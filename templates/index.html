<!doctype html>
{% load staticfiles %}
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <title>Printer API</title>
  </head>
  <body>
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-8">
          <h1 class="mt-2">Printer API</h1>
          <hr class="mt-0 mb-4">
            <div>
                <p>
                   <img src="{% static 'images/index.jpg' %}" alt="welcome" width="500px" align="middle" >
                </p>
                <h3>Доступные методы</h3>
                <div>
                    <p> Для создания чеков передите на <a href="#" class="link-primary">http://localhost:8000/create_checks/</a> </p>
                    <p> Для получения списка новых чеков перейдите на
                    <a href="#" class="link-primary">http://localhost:8000/new_checks/?api_key=&lt;printer_api_key&gt;/</a> </p>
                    <p> Для получения PDF-файла чека перейдите на
                        <a href="#" class="link-primary">http://localhost:8000/check/?api_key=&lt;priner_api_key&gt;&check_id=&lt;check_id></a>
                </div>
                <div>
                     <p> Для просмотра всех чеков перейдите на
                        <a href="#" class="link-primary">http://localhost:8000/admin/checkservice/check/</a> </p>
                     <p> Для просмотра всех принтеров
                         <a href="#" class="link-primary">http://localhost:8000/admin/checkservice/printer/</a> </p>
                </div>
                <div>
                    <p> Для отслеживания работы воркера перейдите на
                        <a href="#" class="link-primary">http:/localhost:8000/admin/rq/</a> </p>
                </div>
                <hr>
                <h3>Порядок запуска</h3>
                <div>
                    <p> 1. Устанавливаем зависимости
                        <code> pip install -r requirements.txt </code> </p>
                    <p> 2. В фоновом режиме запускаем необходимые для работы сервисы
                        <code> docker-compose up -d </code> </p>
                    <p> 3. Создаем и прогоняем миграции <br>
                        <code>python manage.py makemigrations</code> <br>
                        <code>python manage.py migrate</code>  </p>
                    <p> 4. Создаем пользователя для доступа в административный раздел
                        <code> python manage.py createsuperuser </code> </p>
                    <p> 5. Загружаем начальные данные для таблицы принтеров
                        <code> python manage.py loaddata printer_data.json </code></p>
                    <p> 6. Запускаем воркер
                        <code> python manage.py rqworker </code></p>
                    <p> 7. Запускаем сервер
                        <code> python manage.py runserver </code></p>
                </div>
            </div>
        </div>
      </div>
    </div>
  </body>
</html>